<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="menu_8c" kind="file" language="C++">
    <compoundname>menu.c</compoundname>
    <includes local="no">SDL2/SDL.h</includes>
    <includes local="no">SDL2/SDL_ttf.h</includes>
    <includes refid="chemin_8h" local="no">chemin.h</includes>
    <includes refid="menu_8h" local="no">menu.h</includes>
    <includes refid="outils__SDL_8h" local="no">outils_SDL.h</includes>
    <includes local="no">stdbool.h</includes>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">string.h</includes>
    <includes refid="touches_8h" local="no">touches.h</includes>
    <incdepgraph>
      <node id="580">
        <label>stdbool.h</label>
      </node>
      <node id="578">
        <label>erreur.h</label>
        <link refid="erreur_8h"/>
      </node>
      <node id="579">
        <label>menu.h</label>
        <link refid="menu_8h"/>
        <childnode refid="574" relation="include">
        </childnode>
        <childnode refid="580" relation="include">
        </childnode>
        <childnode refid="578" relation="include">
        </childnode>
      </node>
      <node id="586">
        <label>stdint.h</label>
      </node>
      <node id="583">
        <label>stdlib.h</label>
      </node>
      <node id="573">
        <label>src/menu.c</label>
        <link refid="menu_8c"/>
        <childnode refid="574" relation="include">
        </childnode>
        <childnode refid="575" relation="include">
        </childnode>
        <childnode refid="576" relation="include">
        </childnode>
        <childnode refid="579" relation="include">
        </childnode>
        <childnode refid="581" relation="include">
        </childnode>
        <childnode refid="580" relation="include">
        </childnode>
        <childnode refid="582" relation="include">
        </childnode>
        <childnode refid="583" relation="include">
        </childnode>
        <childnode refid="584" relation="include">
        </childnode>
        <childnode refid="585" relation="include">
        </childnode>
      </node>
      <node id="585">
        <label>touches.h</label>
        <link refid="touches_8h_source"/>
        <childnode refid="586" relation="include">
        </childnode>
      </node>
      <node id="577">
        <label>liste.h</label>
        <link refid="liste_8h"/>
        <childnode refid="578" relation="include">
        </childnode>
      </node>
      <node id="581">
        <label>outils_SDL.h</label>
        <link refid="outils__SDL_8h"/>
        <childnode refid="574" relation="include">
        </childnode>
        <childnode refid="578" relation="include">
        </childnode>
      </node>
      <node id="574">
        <label>SDL2/SDL.h</label>
      </node>
      <node id="584">
        <label>string.h</label>
      </node>
      <node id="576">
        <label>chemin.h</label>
        <link refid="chemin_8h"/>
        <childnode refid="577" relation="include">
        </childnode>
        <childnode refid="578" relation="include">
        </childnode>
      </node>
      <node id="582">
        <label>stdio.h</label>
      </node>
      <node id="575">
        <label>SDL2/SDL_ttf.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structs__type__titre" prot="public">s_type_titre</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="menu_8c_1ab8aeff661e1977144c99dfa4d97c7c1f" prot="public" static="no">
        <name>POLICE_MENU</name>
        <initializer>&quot;data/police/8-BIT_WONDER.ttf&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="20" column="9" bodyfile="src/menu.c" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="menu_8c_1af613315a807e9b2d66be2eaafb783368" prot="public" static="no">
        <name>FOND_MENU</name>
        <initializer>&quot;IMG/texture/menu/fond_menu.png&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="21" column="9" bodyfile="src/menu.c" bodystart="21" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="menu_8c_1a8983e644ba530896401c26d2ad29962b" prot="public" static="no">
        <name>BOUTON_MENU</name>
        <initializer>&quot;IMG/texture/menu/bouton_menu.png&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="22" column="9" bodyfile="src/menu.c" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="menu_8c_1a7ecb9a2cda9e4bb3d2e21279d83a85c3" prot="public" static="no">
        <name>WIDTH_TITRE</name>
        <initializer>80</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="23" column="9" bodyfile="src/menu.c" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="menu_8c_1a6382d0a7bbe285f769b4f8dfef2ffeeb" prot="public" static="no">
        <name>NB_TITRE</name>
        <initializer>2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="36" column="9" bodyfile="src/menu.c" bodystart="36" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="menu_8c_1a70caeba95f6570f08b6e7615f4d34a41" prot="public" static="no">
        <type>struct <ref refid="structs__type__titre" kindref="compound">s_type_titre</ref></type>
        <definition>typedef struct s_type_titre  t_type_titre</definition>
        <argsstring></argsstring>
        <name>t_type_titre</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="34" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="menu_8c_1a176cb703a2018bd7578baaa062a251e3" prot="public" static="no" mutable="no">
        <type>SDL_Texture *</type>
        <definition>SDL_Texture* menu_texture[2]</definition>
        <argsstring>[2]</argsstring>
        <name>menu_texture</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="25" column="1" bodyfile="src/menu.c" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="menu_8c_1a5b9c3bb64106f548b69d010890407b44" prot="public" static="no" mutable="no">
        <type><ref refid="structt__type__titre" kindref="compound">t_type_titre</ref></type>
        <definition>t_type_titre tab_menu_titre[NB_TITRE]</definition>
        <argsstring>[NB_TITRE]</argsstring>
        <name>tab_menu_titre</name>
        <initializer>= {{MENU_PRINCIPAL, &quot;World Of Dungeons&quot;}, {MENU_SOLO, &quot;Solo&quot;}}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="37" column="1" bodyfile="src/menu.c" bodystart="37" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="menu_8c_1aa771a9769760a4f490719761ac5d052c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_init</definition>
        <argsstring>(SDL_Renderer *renderer)</argsstring>
        <name>menu_init</name>
        <param>
          <type>SDL_Renderer *</type>
          <declname>renderer</declname>
        </param>
        <briefdescription>
<para>Initialise le module Menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>renderer</parametername>
</parameternamelist>
<parameterdescription>
<para>Renderer de la fenetre </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>t_erreur Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="45" column="1" bodyfile="src/menu.c" bodystart="45" bodyend="62"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a400dad194316a2c134c016ebf10a2f31" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_quit</definition>
        <argsstring>(void)</argsstring>
        <name>menu_quit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Quitte le module Menu. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="69" column="1" bodyfile="src/menu.c" bodystart="69" bodyend="74"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_ajout_bouton</definition>
        <argsstring>(t_menu *menu, SDL_Rect rect, char *titre, t_type_menu type)</argsstring>
        <name>menu_ajout_bouton</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> *</type>
          <declname>menu</declname>
        </param>
        <param>
          <type>SDL_Rect</type>
          <declname>rect</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>titre</declname>
        </param>
        <param>
          <type>t_type_menu</type>
          <declname>type</declname>
        </param>
        <briefdescription>
<para>Ajoute un bouton au menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Menu sur lequel on veut ajouter un bouton </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rect</parametername>
</parameternamelist>
<parameterdescription>
<para>Informations de position et de taille du bouton </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>titre</parametername>
</parameternamelist>
<parameterdescription>
<para>Titre du bouton </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>type</parametername>
</parameternamelist>
<parameterdescription>
<para>Type du menu suivant </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Retourne un code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="85" column="1" bodyfile="src/menu.c" bodystart="85" bodyend="123"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a5e4bbd12d3e5748c418095f36fd603fc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_creer</definition>
        <argsstring>(t_type_menu type, int width, int height, t_menu **menu)</argsstring>
        <name>menu_creer</name>
        <param>
          <type>t_type_menu</type>
          <declname>type</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <param>
          <type>int</type>
          <declname>height</declname>
        </param>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> **</type>
          <declname>menu</declname>
        </param>
        <briefdescription>
<para>Créer un Menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>type</parametername>
</parameternamelist>
<parameterdescription>
<para>Type de menu que l&apos;on veut avoir (Solo,...) </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>width</parametername>
</parameternamelist>
<parameterdescription>
<para>Largeur de la fenêtre d&apos;affichage </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>height</parametername>
</parameternamelist>
<parameterdescription>
<para>Hauteur de la fenêtre d&apos;affichage </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Double pointeur sur le menu que l&apos;on veut créer </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="134" column="1" bodyfile="src/menu.c" bodystart="134" bodyend="187"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1ae03104e90efc8ecf693fb75dc0612fcf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_afficher_titre_SDL</definition>
        <argsstring>(SDL_Renderer *renderer, t_menu *menu)</argsstring>
        <name>menu_afficher_titre_SDL</name>
        <param>
          <type>SDL_Renderer *</type>
          <declname>renderer</declname>
        </param>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> *</type>
          <declname>menu</declname>
        </param>
        <briefdescription>
<para>Affiche le titre du Menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>renderer</parametername>
</parameternamelist>
<parameterdescription>
<para>Renderer de la fenetre </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointeur sur le menu que l&apos;on veut afficher </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="196" column="1" bodyfile="src/menu.c" bodystart="196" bodyend="238"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1ac891d8c3b720e8c042eb00768981a389" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_afficher_SDL</definition>
        <argsstring>(t_menu *menu, SDL_Renderer *renderer)</argsstring>
        <name>menu_afficher_SDL</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> *</type>
          <declname>menu</declname>
        </param>
        <param>
          <type>SDL_Renderer *</type>
          <declname>renderer</declname>
        </param>
        <briefdescription>
<para>Affiche le menu en SDL. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointeur sur le menu que l&apos;on veut afficher </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>renderer</parametername>
</parameternamelist>
<parameterdescription>
<para>Renderer sur le lequel on veut afficher le menu </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="247" column="1" bodyfile="src/menu.c" bodystart="247" bodyend="309"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a462d9a2c9b715a4a9dc2f9da968935e9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_afficher_Term</definition>
        <argsstring>(t_menu *menu)</argsstring>
        <name>menu_afficher_Term</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> *</type>
          <declname>menu</declname>
        </param>
        <briefdescription>
<para>Affiche le menu dans le terminal. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Menu que l&apos;on veut afficher </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="317" column="1" bodyfile="src/menu.c" bodystart="317" bodyend="320"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a261f1344f6059bdf0834f0f3b878bea8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_detruire_bouton</definition>
        <argsstring>(t_bouton_menu **btn)</argsstring>
        <name>menu_detruire_bouton</name>
        <param>
          <type><ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref> **</type>
          <declname>btn</declname>
        </param>
        <briefdescription>
<para>Detruire un bouton. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>btn</parametername>
</parameternamelist>
<parameterdescription>
<para>Bouton que l&apos;on veut détruire </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="328" column="1" bodyfile="src/menu.c" bodystart="328" bodyend="338"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a4f02e01d48394849997786c138baf862" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_detruire</definition>
        <argsstring>(t_menu **menu)</argsstring>
        <name>menu_detruire</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> **</type>
          <declname>menu</declname>
        </param>
        <briefdescription>
<para>Detruire un Menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Menu que l&apos;on veut détruire </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="346" column="1" bodyfile="src/menu.c" bodystart="346" bodyend="360"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a28006b7b9d53bcc0b3828ec01906c7cd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_gestion_SDL</definition>
        <argsstring>(t_menu *menu, int mouseState, t_type_menu *type_menu_suivant)</argsstring>
        <name>menu_gestion_SDL</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> *</type>
          <declname>menu</declname>
        </param>
        <param>
          <type>int</type>
          <declname>mouseState</declname>
        </param>
        <param>
          <type>t_type_menu *</type>
          <declname>type_menu_suivant</declname>
        </param>
        <briefdescription>
<para>Met à jour le menu. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Menu que l&apos;on veut gérer </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mouseState</parametername>
</parameternamelist>
<parameterdescription>
<para>Etat du clique gauche de la souris </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>type_menu_suivant</parametername>
</parameternamelist>
<parameterdescription>
<para>Type du menu suivant, MENU_NULL sinon </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="370" column="1" bodyfile="src/menu.c" bodystart="370" bodyend="409"/>
      </memberdef>
      <memberdef kind="function" id="menu_8c_1a65c9e5cd5164e3b622fae7d2dc09ef23" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>t_erreur</type>
        <definition>t_erreur menu_suivant</definition>
        <argsstring>(t_menu **menu, t_type_menu type_menu_suivant)</argsstring>
        <name>menu_suivant</name>
        <param>
          <type><ref refid="structt__menu" kindref="compound">t_menu</ref> **</type>
          <declname>menu</declname>
        </param>
        <param>
          <type>t_type_menu</type>
          <declname>type_menu_suivant</declname>
        </param>
        <briefdescription>
<para>Passe au Menu suivant. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>menu</parametername>
</parameternamelist>
<parameterdescription>
<para>Double pointeur sur le menu </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>type_menu_suivant</parametername>
</parameternamelist>
<parameterdescription>
<para>Type du menu suivant </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Code erreur </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/menu.c" line="418" column="1" bodyfile="src/menu.c" bodystart="418" bodyend="436"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Gestion du menu (solo, multijoueur, ...) </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Jasmin GALBRUN </para></simplesect>
<simplesect kind="version"><para>3 </para></simplesect>
<simplesect kind="date"><para>15/03/2019 </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="9"><highlight class="preprocessor">#include<sp/>&lt;SDL2/SDL.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;SDL2/SDL_ttf.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chemin_8h" kindref="compound">chemin.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="menu_8h" kindref="compound">menu.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="outils__SDL_8h" kindref="compound">outils_SDL.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdbool.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;touches.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>POLICE_MENU<sp/>&quot;data/police/8-BIT_WONDER.ttf&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FOND_MENU<sp/>&quot;IMG/texture/menu/fond_menu.png&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BOUTON_MENU<sp/>&quot;IMG/texture/menu/bouton_menu.png&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WIDTH_TITRE<sp/>80<sp/>//100<sp/>maximum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal">SDL_Texture<sp/>*menu_texture[2];</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="structs__type__titre" refkind="compound"><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structs__type__titre" kindref="compound">s_type_titre</ref><sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>t_type_menu<sp/>type_menu;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*titre;</highlight></codeline>
<codeline lineno="34"><highlight class="normal">}<sp/><ref refid="structt__type__titre" kindref="compound">t_type_titre</ref>;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NB_TITRE<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><ref refid="structt__type__titre" kindref="compound">t_type_titre</ref><sp/>tab_menu_titre[NB_TITRE]<sp/>=<sp/>{{MENU_PRINCIPAL,<sp/></highlight><highlight class="stringliteral">&quot;World<sp/>Of<sp/>Dungeons&quot;</highlight><highlight class="normal">},<sp/>{MENU_SOLO,<sp/></highlight><highlight class="stringliteral">&quot;Solo&quot;</highlight><highlight class="normal">}};</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1aa771a9769760a4f490719761ac5d052c" kindref="member">menu_init</ref>(SDL_Renderer<sp/>*renderer)<sp/>{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*fond,<sp/>*bouton;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><ref refid="chemin_8c_1a426a590237f668eca1627c0cc3985cd2" kindref="member">creation_chemin</ref>(FOND_MENU,<sp/>&amp;fond);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><ref refid="chemin_8c_1a426a590237f668eca1627c0cc3985cd2" kindref="member">creation_chemin</ref>(BOUTON_MENU,<sp/>&amp;bouton);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/>SDL_Texture<sp/>*fond_tex,<sp/>*bouton_tex;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Création<sp/>Texture<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><ref refid="outils__SDL_8c_1a17717a1787c318f04c2b3050aad4c319" kindref="member">Create_IMG_Texture</ref>(renderer,<sp/>fond,<sp/>&amp;fond_tex);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><ref refid="outils__SDL_8c_1a17717a1787c318f04c2b3050aad4c319" kindref="member">Create_IMG_Texture</ref>(renderer,<sp/>bouton,<sp/>&amp;bouton_tex);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/>menu_texture[0]<sp/>=<sp/>fond_tex;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/>menu_texture[1]<sp/>=<sp/>bouton_tex;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/>free(fond);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/>free(bouton);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="62"><highlight class="normal">}</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a400dad194316a2c134c016ebf10a2f31" kindref="member">menu_quit</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/>SDL_DestroyTexture(menu_texture[0]);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>SDL_DestroyTexture(menu_texture[1]);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="74"><highlight class="normal">}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*menu,<sp/>SDL_Rect<sp/>rect,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*titre,<sp/>t_type_menu<sp/>type)<sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_ajout_bouton()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>menu<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rect.x<sp/>&lt;<sp/>0<sp/>||<sp/>rect.y<sp/>&lt;<sp/>0<sp/>||<sp/>rect.w<sp/>&lt;<sp/>0<sp/>||<sp/>rect.h<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(VALUE_ERROR,<sp/></highlight><highlight class="stringliteral">&quot;menu_ajout_bouton()<sp/>:<sp/>Position<sp/>ou<sp/>taille<sp/>des<sp/>boutons<sp/>incorrects&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>VALUE_ERROR;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocation<sp/>de<sp/>la<sp/>mémoire<sp/>pour<sp/>un<sp/>bouton<sp/>au<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref>));</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton<sp/>=<sp/>realloc(menu-&gt;tab_bouton,<sp/>(menu-&gt;nb_bouton<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref>));</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Création<sp/>d&apos;un<sp/>bouton<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref><sp/>*btn<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref>));</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(titre<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>btn-&gt;titre<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">)<sp/>*<sp/>(strlen(titre)<sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(btn-&gt;titre,<sp/>titre);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/>btn-&gt;x<sp/>=<sp/>rect.x;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/>btn-&gt;y<sp/>=<sp/>rect.y;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/>btn-&gt;width<sp/>=<sp/>rect.w;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/>btn-&gt;height<sp/>=<sp/>rect.h;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/>btn-&gt;state<sp/>=<sp/>RELEASED;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/>btn-&gt;focus<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/>btn-&gt;suivant<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ajout<sp/>du<sp/>bouton<sp/>au<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>menu-&gt;tab_bouton[menu-&gt;nb_bouton]<sp/>=<sp/>btn;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/>menu-&gt;nb_bouton++;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="123"><highlight class="normal">}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a5e4bbd12d3e5748c418095f36fd603fc" kindref="member">menu_creer</ref>(t_type_menu<sp/>type,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,<sp/><ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>**menu)<sp/>{</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>&lt;<sp/>0<sp/>||<sp/>height<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(VALUE_ERROR,<sp/></highlight><highlight class="stringliteral">&quot;menu_creer()<sp/>:<sp/>Taille<sp/>du<sp/>menu<sp/>incorrect&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>VALUE_ERROR;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_creer()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>menu<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Création<sp/>d&apos;un<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/>*menu<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__menu" kindref="compound">t_menu</ref>));</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>(*menu)-&gt;nb_bouton<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/>(*menu)-&gt;width<sp/>=<sp/>width;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/>(*menu)-&gt;height<sp/>=<sp/>height;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/>(*menu)-&gt;type<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialisation<sp/>taille<sp/>bouton<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w,<sp/>h;<sp/></highlight><highlight class="comment">//Taille<sp/>d&apos;une<sp/>colonne<sp/>et<sp/>d&apos;une<sp/>ligne</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>hauteur_btn,<sp/>largeur_btn;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/>w<sp/>=<sp/>width<sp/>/<sp/>100;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/>h<sp/>=<sp/>height<sp/>/<sp/>100;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/>largeur_btn<sp/>=<sp/>50<sp/>*<sp/>w;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/>hauteur_btn<sp/>=<sp/>12<sp/>*<sp/>h;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/>SDL_Rect<sp/>btn<sp/>=<sp/>{(width<sp/>-<sp/>largeur_btn)<sp/>/<sp/>2,<sp/>15<sp/>*<sp/>w,<sp/>largeur_btn,<sp/>hauteur_btn};</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type<sp/>==<sp/>MENU_PRINCIPAL)<sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>(*menu)-&gt;tab_bouton<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref>));</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Solo&quot;</highlight><highlight class="normal">,<sp/>MENU_SOLO);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>btn.y<sp/>+=<sp/>btn.h<sp/>+<sp/>20;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Multijoueur&quot;</highlight><highlight class="normal">,<sp/>MENU_PRINCIPAL);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>btn.y<sp/>+=<sp/>btn.h<sp/>+<sp/>20;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Option&quot;</highlight><highlight class="normal">,<sp/>MENU_PRINCIPAL);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>btn.y<sp/>+=<sp/>btn.h<sp/>+<sp/>20;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Quitter&quot;</highlight><highlight class="normal">,<sp/>MENU_QUITTER);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type<sp/>==<sp/>MENU_SOLO)<sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>(*menu)-&gt;tab_bouton<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref>));</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Nouvelle<sp/>partie&quot;</highlight><highlight class="normal">,<sp/>MENU_NOUVELLE_PARTIE);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>btn.y<sp/>+=<sp/>btn.h<sp/>+<sp/>20;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;charger<sp/>une<sp/>partie&quot;</highlight><highlight class="normal">,<sp/>MENU_CHARGER_PARTIE);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>btn.y<sp/>+=<sp/>btn.h<sp/>+<sp/>20;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1af1461abc4dc85b02e4d1d3e8c135eaad" kindref="member">menu_ajout_bouton</ref>(*menu,<sp/>btn,<sp/></highlight><highlight class="stringliteral">&quot;Retour&quot;</highlight><highlight class="normal">,<sp/>MENU_PRINCIPAL);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type<sp/>==<sp/>NOUVEAU_MENU)<sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>(*menu)-&gt;tab_bouton<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>(*menu)-&gt;tab_bouton<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="menu_8c_1a4f02e01d48394849997786c138baf862" kindref="member">menu_detruire</ref>(menu);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="187"><highlight class="normal">}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1ae03104e90efc8ecf693fb75dc0612fcf" kindref="member">menu_afficher_titre_SDL</ref>(SDL_Renderer<sp/>*renderer,<sp/><ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*menu)<sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>récupère<sp/>le<sp/>titre<sp/>correspondant<sp/>au<sp/>type<sp/>de<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*titre<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_titre_max<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>NB_TITRE;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;type<sp/>==<sp/>tab_menu_titre[i].type_menu)<sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>titre<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">)<sp/>*<sp/>(strlen(tab_menu_titre[i].titre)<sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(titre,<sp/>tab_menu_titre[i].titre);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(tab_menu_titre[i].titre)<sp/>&gt;<sp/>taille_titre_max)<sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>taille_titre_max<sp/>=<sp/>strlen(tab_menu_titre[i].titre);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(titre<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>affiche<sp/>le<sp/>titre<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row<sp/>=<sp/>menu-&gt;height<sp/>/<sp/>4.5;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col<sp/>=<sp/>menu-&gt;width<sp/>/<sp/>100;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_titre<sp/>=<sp/>strlen(titre);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_police<sp/>=<sp/>col<sp/>*<sp/>WIDTH_TITRE<sp/>/<sp/>taille_titre_max;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>(col<sp/>*<sp/>WIDTH_TITRE<sp/>-<sp/>taille_police<sp/>*<sp/>taille_titre)<sp/>/<sp/>2<sp/>+<sp/>((menu-&gt;width<sp/>-<sp/>WIDTH_TITRE<sp/>*<sp/>col)<sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>(row<sp/>-<sp/>taille_police)<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/>SDL_Rect<sp/>r<sp/>=<sp/>{x,<sp/>y,<sp/>taille_police<sp/>*<sp/>taille_titre,<sp/>taille_police};</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/>SDL_Color<sp/>couleur<sp/>=<sp/>{255,<sp/>255,<sp/>255};</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*chemin_police<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><ref refid="chemin_8c_1a426a590237f668eca1627c0cc3985cd2" kindref="member">creation_chemin</ref>(POLICE_MENU,<sp/>&amp;chemin_police);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/>SDL_Texture<sp/>*texture_texte;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><ref refid="outils__SDL_8c_1a05fb01fd866f77718813d6fce20670c1" kindref="member">Create_Text_Texture</ref>(renderer,<sp/>titre,<sp/>chemin_police,<sp/>taille_police,<sp/>couleur,<sp/>BLENDED,<sp/>&amp;texture_texte);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/>SDL_RenderCopy(renderer,<sp/>texture_texte,<sp/>NULL,<sp/>&amp;r);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>libère<sp/>la<sp/>mémoire<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/>SDL_DestroyTexture(texture_texte);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/>free(chemin_police);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/>free(titre);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1ac891d8c3b720e8c042eb00768981a389" kindref="member">menu_afficher_SDL</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*menu,<sp/>SDL_Renderer<sp/>*renderer)<sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>UNDEFINED_MENU;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(renderer<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialisation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/>SDL_Color<sp/>couleur_texte<sp/>=<sp/>{255,<sp/>255,<sp/>255};</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*police;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><ref refid="chemin_8c_1a426a590237f668eca1627c0cc3985cd2" kindref="member">creation_chemin</ref>(POLICE_MENU,<sp/>&amp;police);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/>SDL_Texture<sp/>*texte_tex;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Définition<sp/>taille<sp/>de<sp/>la<sp/>police<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_max_titre<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_min_width<sp/>=<sp/>menu-&gt;tab_bouton[0]-&gt;width;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>menu-&gt;nb_bouton;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(menu-&gt;tab_bouton[i]-&gt;titre)<sp/>&gt;<sp/>taille_max_titre)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>taille_max_titre<sp/>=<sp/>strlen(menu-&gt;tab_bouton[i]-&gt;titre);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton[i]-&gt;width<sp/>&gt;<sp/>taille_min_width)<sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>taille_min_width<sp/>=<sp/>menu-&gt;tab_bouton[i]-&gt;width;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>taille_police<sp/>=<sp/>taille_min_width<sp/>/<sp/>taille_max_titre;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affichage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/>SDL_Rect<sp/>fenetre<sp/>=<sp/>{0,<sp/>0,<sp/>menu-&gt;width,<sp/>menu-&gt;height};</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/>SDL_RenderCopy(renderer,<sp/>menu_texture[0],<sp/>NULL,<sp/>&amp;fenetre);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Titre<sp/>Menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><ref refid="menu_8c_1ae03104e90efc8ecf693fb75dc0612fcf" kindref="member">menu_afficher_titre_SDL</ref>(renderer,<sp/>menu);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>menu-&gt;nb_bouton;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_Rect<sp/>r_img<sp/>=<sp/>{menu-&gt;tab_bouton[i]-&gt;x,<sp/>menu-&gt;tab_bouton[i]-&gt;y,<sp/>menu-&gt;tab_bouton[i]-&gt;width,<sp/>menu-&gt;tab_bouton[i]-&gt;height};</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Centrer<sp/>le<sp/>texte<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x_txt<sp/>=<sp/>(menu-&gt;tab_bouton[i]-&gt;width<sp/>-<sp/>taille_police<sp/>*<sp/>strlen(menu-&gt;tab_bouton[i]-&gt;titre))<sp/>/<sp/>2<sp/>+<sp/>menu-&gt;tab_bouton[i]-&gt;x;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y_txt<sp/>=<sp/>(menu-&gt;tab_bouton[i]-&gt;height<sp/>-<sp/>taille_police)<sp/>/<sp/>2<sp/>+<sp/>menu-&gt;tab_bouton[i]-&gt;y;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_Rect<sp/>r_txt<sp/>=<sp/>{x_txt,<sp/>y_txt,<sp/>taille_police<sp/>*<sp/>strlen(menu-&gt;tab_bouton[i]-&gt;titre),<sp/>taille_police};</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Etat<sp/>bouton<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton[i]-&gt;focus<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>couleur_texte.a<sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>couleur_texte.a<sp/>=<sp/>255;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Création<sp/>Texture<sp/>texte<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="outils__SDL_8c_1a05fb01fd866f77718813d6fce20670c1" kindref="member">Create_Text_Texture</ref>(renderer,<sp/>menu-&gt;tab_bouton[i]-&gt;titre,<sp/>police,<sp/>taille_police,<sp/>couleur_texte,<sp/>BLENDED,<sp/>&amp;texte_tex);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_RenderCopy(renderer,<sp/>menu_texture[1],<sp/>NULL,<sp/>&amp;r_img);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_RenderCopy(renderer,<sp/>texte_tex,<sp/>NULL,<sp/>&amp;r_txt);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_DestroyTexture(texte_tex);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/>free(police);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="309"><highlight class="normal">}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a462d9a2c9b715a4a9dc2f9da968935e9" kindref="member">menu_afficher_Term</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*menu)<sp/>{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="320"><highlight class="normal">}</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a261f1344f6059bdf0834f0f3b878bea8" kindref="member">menu_detruire_bouton</ref>(<ref refid="structt__bouton__menu" kindref="compound">t_bouton_menu</ref><sp/>**btn)<sp/>{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*btn<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*btn)-&gt;titre<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>free((*btn)-&gt;titre);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(*btn)-&gt;titre<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>free(*btn);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>*btn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a4f02e01d48394849997786c138baf862" kindref="member">menu_detruire</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>**menu)<sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*menu<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*menu)-&gt;tab_bouton<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>(*menu)-&gt;nb_bouton;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="menu_8c_1a261f1344f6059bdf0834f0f3b878bea8" kindref="member">menu_detruire_bouton</ref>(&amp;((*menu)-&gt;tab_bouton[i]));</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>free((*menu)-&gt;tab_bouton);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(*menu)-&gt;tab_bouton<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>free(*menu);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>*menu<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="360"><highlight class="normal">}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a28006b7b9d53bcc0b3828ec01906c7cd" kindref="member">menu_gestion_SDL</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*menu,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mouseState,<sp/>t_type_menu<sp/>*type_menu_suivant)<sp/>{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_gestion_SDL()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>menu<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_gestion_SDL()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>tab_bouton<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type_menu_suivant<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_gestion_SDL()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>pos_btn_pressed<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Récupération<sp/>coordonnée<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mouseX,<sp/>mouseY;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/>SDL_GetMouseState(&amp;mouseX,<sp/>&amp;mouseY);</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Gestion<sp/>souris<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/>*type_menu_suivant<sp/>=<sp/>MENU_NULL;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>menu-&gt;nb_bouton;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_Rect<sp/>r<sp/>=<sp/>{menu-&gt;tab_bouton[i]-&gt;x,<sp/>menu-&gt;tab_bouton[i]-&gt;y,<sp/>menu-&gt;tab_bouton[i]-&gt;width,<sp/>menu-&gt;tab_bouton[i]-&gt;height};</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>SDL_Point<sp/>p<sp/>=<sp/>{mouseX,<sp/>mouseY};</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(SDL_PointInRect(&amp;p,<sp/>&amp;r))<sp/>{</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton[i]-&gt;focus<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu-&gt;tab_bouton[i]-&gt;state<sp/>==<sp/>PRESSED<sp/>&amp;&amp;<sp/>mouseState<sp/>==<sp/>RELEASED)<sp/>{</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*type_menu_suivant<sp/>=<sp/>menu-&gt;tab_bouton[i]-&gt;suivant;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton[i]-&gt;state<sp/>=<sp/>RELEASED;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mouseState<sp/>==<sp/>PRESSED)<sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton[i]-&gt;state<sp/>=<sp/>PRESSED;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>menu-&gt;tab_bouton[i]-&gt;focus<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="409"><highlight class="normal">}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal">t_erreur<sp/><ref refid="menu_8c_1a65c9e5cd5164e3b622fae7d2dc09ef23" kindref="member">menu_suivant</ref>(<ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>**menu,<sp/>t_type_menu<sp/>type_menu_suivant)<sp/>{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Vérification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_suivant()<sp/>:<sp/>Double<sp/>pointeur<sp/>sur<sp/>le<sp/>menu<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*menu<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="erreur_8c_1a86eae7e8299b116054bf5168b60fa3fb" kindref="member">erreur_save</ref>(PTR_NULL,<sp/></highlight><highlight class="stringliteral">&quot;menu_suivant()<sp/>:<sp/>Pointeur<sp/>sur<sp/>le<sp/>menu<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PTR_NULL;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Création<sp/>+<sp/>destruction<sp/>du<sp/>menu<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><ref refid="structt__menu" kindref="compound">t_menu</ref><sp/>*tamp;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><ref refid="menu_8c_1a5e4bbd12d3e5748c418095f36fd603fc" kindref="member">menu_creer</ref>(type_menu_suivant,<sp/>(*menu)-&gt;width,<sp/>(*menu)-&gt;height,<sp/>&amp;tamp);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><ref refid="menu_8c_1a4f02e01d48394849997786c138baf862" kindref="member">menu_detruire</ref>(menu);</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/>*menu<sp/>=<sp/>tamp;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OK;</highlight></codeline>
<codeline lineno="436"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/menu.c"/>
  </compounddef>
</doxygen>
