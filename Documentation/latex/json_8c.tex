\hypertarget{json_8c}{}\section{Référence du fichier src/json.c}
\label{json_8c}\index{src/json.\+c@{src/json.\+c}}


Module qui lit et écrit des fichiers au format J\+S\+ON.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$json.\+h$>$}\newline
\subsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
F\+I\+LE $\ast$ \mbox{\hyperlink{json_8c_a716cc8c76019a0dcdd7230f06a56e626}{new\+\_\+json}} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Créer, s\textquotesingle{}il ne l\textquotesingle{}est pas, le fichier J\+S\+ON et l\textquotesingle{}ouvre en écriture. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{json_8c_a957de21b69202931a222ca2fb74db70b}{del\+\_\+json}} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Supprime un fichier J\+S\+ON. \end{DoxyCompactList}\item 
F\+I\+LE $\ast$ \mbox{\hyperlink{json_8c_a44c4038d0dcafb6a1433ea7d49998e78}{open\+\_\+json}} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Ouvre un fichier J\+S\+ON en lecture. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{json_8c_a7736b4ec881a5fccfc5eb66901adc7ef}{write\+\_\+json}} (F\+I\+LE $\ast$file, char $\ast$key, void $\ast$value, char value\+\_\+type)
\begin{DoxyCompactList}\small\item\em Ecrit une clé/valeur au format J\+S\+ON dans un fichier. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{json_8c_a7f407b733bba41ae770be09a3cf4d5cd}{open\+\_\+json\+\_\+obj}} (F\+I\+LE $\ast$file)
\begin{DoxyCompactList}\small\item\em Démarre un nouvelle objet au format J\+S\+ON dans un fichier. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{json_8c_a8d716a14bfd29aec5bef23e246be5275}{close\+\_\+json\+\_\+obj}} (F\+I\+LE $\ast$file)
\begin{DoxyCompactList}\small\item\em Ferme l\textquotesingle{}objet J\+S\+ON. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{json_8c_a4f922837949c61d22d37c47fae26c9fd}{extract\+\_\+json\+\_\+obj}} (F\+I\+LE $\ast$file, char $\ast$$\ast$obj)
\begin{DoxyCompactList}\small\item\em Récupère un objet J\+S\+ON dans un fichier. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{json_8c_a3ab11ce9154b17552a00b73dbae7762f}\label{json_8c_a3ab11ce9154b17552a00b73dbae7762f}} 
int {\bfseries read\+\_\+json\+\_\+obj} (char $\ast$obj, char $\ast$key, void $\ast$value, char value\+\_\+type)
\item 
char $\ast$ \mbox{\hyperlink{json_8c_a1b98d1e3347bd24ff0393a24c7454ad1}{concat\+\_\+str}} (char $\ast$str1, char $\ast$str2)
\begin{DoxyCompactList}\small\item\em Concatène 2 chaine de caractère. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char \mbox{\hyperlink{json_8c_a264dd58178e90f733d77122d11553ca8}{crt\+\_\+car}} = \textquotesingle{}\#\textquotesingle{}
\begin{DoxyCompactList}\small\item\em Variable globale contenant le dernier caractère ajouté au fichier J\+S\+ON en cours. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Description détaillée}
Module qui lit et écrit des fichiers au format J\+S\+ON. 

\begin{DoxyAuthor}{Auteur}
G\+A\+L\+B\+R\+UN Tibane 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+3 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
5 Mars 2019 
\end{DoxyDate}


\subsection{Documentation des fonctions}
\mbox{\Hypertarget{json_8c_a8d716a14bfd29aec5bef23e246be5275}\label{json_8c_a8d716a14bfd29aec5bef23e246be5275}} 
\index{json.\+c@{json.\+c}!close\+\_\+json\+\_\+obj@{close\+\_\+json\+\_\+obj}}
\index{close\+\_\+json\+\_\+obj@{close\+\_\+json\+\_\+obj}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{close\+\_\+json\+\_\+obj()}{close\_json\_obj()}}
{\footnotesize\ttfamily int close\+\_\+json\+\_\+obj (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{file }\end{DoxyParamCaption})}



Ferme l\textquotesingle{}objet J\+S\+ON. 

L\textquotesingle{}écriture s\textquotesingle{}effectue dans le fichier \textquotesingle{}file\textquotesingle{} en ajout avec pour contenu \textquotesingle{}\}\textquotesingle{} et la variable crt\+\_\+car est mis à jour. 
\begin{DoxyParams}{Paramètres}
{\em file} & Le fichier ou écrire. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un entier pour savoir si l\textquotesingle{}opération c\textquotesingle{}est bien passée. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a1b98d1e3347bd24ff0393a24c7454ad1}\label{json_8c_a1b98d1e3347bd24ff0393a24c7454ad1}} 
\index{json.\+c@{json.\+c}!concat\+\_\+str@{concat\+\_\+str}}
\index{concat\+\_\+str@{concat\+\_\+str}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{concat\+\_\+str()}{concat\_str()}}
{\footnotesize\ttfamily char $\ast$ concat\+\_\+str (\begin{DoxyParamCaption}\item[{char $\ast$}]{str1,  }\item[{char $\ast$}]{str2 }\end{DoxyParamCaption})}



Concatène 2 chaine de caractère. 


\begin{DoxyParams}{Paramètres}
{\em str1} & Chaine de caractère de gauche. \\
\hline
{\em str2} & Chaine de caractère de droite. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Une chaine de caractère résultat de la concatènation. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a957de21b69202931a222ca2fb74db70b}\label{json_8c_a957de21b69202931a222ca2fb74db70b}} 
\index{json.\+c@{json.\+c}!del\+\_\+json@{del\+\_\+json}}
\index{del\+\_\+json@{del\+\_\+json}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{del\+\_\+json()}{del\_json()}}
{\footnotesize\ttfamily int del\+\_\+json (\begin{DoxyParamCaption}\item[{char $\ast$}]{name }\end{DoxyParamCaption})}



Supprime un fichier J\+S\+ON. 


\begin{DoxyParams}{Paramètres}
{\em name} & Chaine de caractère représenant le nom du fichier sans le \textquotesingle{}.json\textquotesingle{} à supprimer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un entier valant 0 si tout c\textquotesingle{}est bien passé. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a4f922837949c61d22d37c47fae26c9fd}\label{json_8c_a4f922837949c61d22d37c47fae26c9fd}} 
\index{json.\+c@{json.\+c}!extract\+\_\+json\+\_\+obj@{extract\+\_\+json\+\_\+obj}}
\index{extract\+\_\+json\+\_\+obj@{extract\+\_\+json\+\_\+obj}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{extract\+\_\+json\+\_\+obj()}{extract\_json\_obj()}}
{\footnotesize\ttfamily int extract\+\_\+json\+\_\+obj (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{file,  }\item[{char $\ast$$\ast$}]{obj }\end{DoxyParamCaption})}



Récupère un objet J\+S\+ON dans un fichier. 

La lecture s\textquotesingle{}effectue dans le fichier \textquotesingle{}file\textquotesingle{} et on récupère un objet. 
\begin{DoxyParams}{Paramètres}
{\em file} & Le fichier à lire. \\
\hline
{\em obj} & L\textquotesingle{}endroit ou enregistrer l\textquotesingle{}objet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un entier pour savoir si l\textquotesingle{}opération c\textquotesingle{}est bien passée. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a716cc8c76019a0dcdd7230f06a56e626}\label{json_8c_a716cc8c76019a0dcdd7230f06a56e626}} 
\index{json.\+c@{json.\+c}!new\+\_\+json@{new\+\_\+json}}
\index{new\+\_\+json@{new\+\_\+json}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{new\+\_\+json()}{new\_json()}}
{\footnotesize\ttfamily F\+I\+LE $\ast$ new\+\_\+json (\begin{DoxyParamCaption}\item[{char $\ast$}]{name }\end{DoxyParamCaption})}



Créer, s\textquotesingle{}il ne l\textquotesingle{}est pas, le fichier J\+S\+ON et l\textquotesingle{}ouvre en écriture. 


\begin{DoxyParams}{Paramètres}
{\em name} & Chaine de caractère représenant le nom du fichier sans le \textquotesingle{}.json\textquotesingle{}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un pointeur sur le fichier ouvert. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a44c4038d0dcafb6a1433ea7d49998e78}\label{json_8c_a44c4038d0dcafb6a1433ea7d49998e78}} 
\index{json.\+c@{json.\+c}!open\+\_\+json@{open\+\_\+json}}
\index{open\+\_\+json@{open\+\_\+json}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{open\+\_\+json()}{open\_json()}}
{\footnotesize\ttfamily F\+I\+LE $\ast$ open\+\_\+json (\begin{DoxyParamCaption}\item[{char $\ast$}]{name }\end{DoxyParamCaption})}



Ouvre un fichier J\+S\+ON en lecture. 


\begin{DoxyParams}{Paramètres}
{\em name} & Chaine de caractère représenant le nom du fichier sans le \textquotesingle{}.json\textquotesingle{} à lire. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un pointeur sur le fichier ouvert. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a7f407b733bba41ae770be09a3cf4d5cd}\label{json_8c_a7f407b733bba41ae770be09a3cf4d5cd}} 
\index{json.\+c@{json.\+c}!open\+\_\+json\+\_\+obj@{open\+\_\+json\+\_\+obj}}
\index{open\+\_\+json\+\_\+obj@{open\+\_\+json\+\_\+obj}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{open\+\_\+json\+\_\+obj()}{open\_json\_obj()}}
{\footnotesize\ttfamily int open\+\_\+json\+\_\+obj (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{file }\end{DoxyParamCaption})}



Démarre un nouvelle objet au format J\+S\+ON dans un fichier. 

L\textquotesingle{}écriture s\textquotesingle{}effectue dans le fichier \textquotesingle{}file\textquotesingle{} en ajout avec pour contenu \textquotesingle{}\{\textquotesingle{} et la variable crt\+\_\+car est mis à jour. 
\begin{DoxyParams}{Paramètres}
{\em file} & Le fichier ou écrire. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un entier pour savoir si l\textquotesingle{}opération c\textquotesingle{}est bien passée. 
\end{DoxyReturn}
\mbox{\Hypertarget{json_8c_a7736b4ec881a5fccfc5eb66901adc7ef}\label{json_8c_a7736b4ec881a5fccfc5eb66901adc7ef}} 
\index{json.\+c@{json.\+c}!write\+\_\+json@{write\+\_\+json}}
\index{write\+\_\+json@{write\+\_\+json}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{write\+\_\+json()}{write\_json()}}
{\footnotesize\ttfamily int write\+\_\+json (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{file,  }\item[{char $\ast$}]{key,  }\item[{void $\ast$}]{value,  }\item[{char}]{value\+\_\+type }\end{DoxyParamCaption})}



Ecrit une clé/valeur au format J\+S\+ON dans un fichier. 

L\textquotesingle{}écriture s\textquotesingle{}effectue dans le fichier \textquotesingle{}file\textquotesingle{} en ajout avec pour contenu le couple clé/valeur \textquotesingle{}key\+:value\textquotesingle{}. 
\begin{DoxyParams}{Paramètres}
{\em file} & Le fichier ou écrire. \\
\hline
{\em key} & La clé correspondant à la valeur. \\
\hline
{\em value} & La valeur à écrire. \\
\hline
{\em value\+\_\+type} & Le type de la valeur à écrire. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Un entier pour savoir si l\textquotesingle{}opération c\textquotesingle{}est bien passée. 
\end{DoxyReturn}


\subsection{Documentation des variables}
\mbox{\Hypertarget{json_8c_a264dd58178e90f733d77122d11553ca8}\label{json_8c_a264dd58178e90f733d77122d11553ca8}} 
\index{json.\+c@{json.\+c}!crt\+\_\+car@{crt\+\_\+car}}
\index{crt\+\_\+car@{crt\+\_\+car}!json.\+c@{json.\+c}}
\subsubsection{\texorpdfstring{crt\+\_\+car}{crt\_car}}
{\footnotesize\ttfamily crt\+\_\+car = \textquotesingle{}\#\textquotesingle{}}



Variable globale contenant le dernier caractère ajouté au fichier J\+S\+ON en cours. 

La variable est égale à \textquotesingle{}\#\textquotesingle{} par défaut quand on est ni dans un fichier ni dans un objet; 